<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>RPS</title>
</head>

<body>
    <div class="health">
        <div class="health-bar">
            <span class="health-status">
                <span class="remaining-health">3</span>/3
            </span>
        </div>

        <div class="health-bar">
            <span class="health-status">
                <span class="remaining-health">3</span>/3
            </span>
        </div>
    </div>

    <div class="game-window">
        <div class="photo"><img src="./photos/" alt="Add alt"></div>

        <div id="middle-info">

            <div>
                <span id="result">Choose your weapon</span>
            </div>

            <div id="buttons">
                <button data-move = "rock">rock</button>
                <button data-move = "papper">papper</button>
                <button data-move = "scissors">scissors</button> 
            </div>
        </div>

        <div class="photo"><img src="./photos/"></div>
    </div>

    <script>
        const chooseMoveButton = document.getElementsByTagName("button");

        Array.from(chooseMoveButton).forEach(button => {
            button.addEventListener("click", (e) => {
                const playerMove = e.target.getAttribute("data-move")
                const computerMove = getComputerMove();

                //display result
                const resultDiv = document.getElementById("result");
                const result = playRound(playerMove, computerMove);
                resultDiv.textContent = result;
            });
        });

        function playRound (playerMove, computerMove){
            let playerWon;

            if(playerMove === "rock"){
                if(computerMove === "scissors") playerWon = true;
                if(computerMove === "paper") playerWon = false;
            } 
            else if (playerMove === "paper"){
                if(computerMove === "rock") playerWon = true;
                if(computerMove === "scissors") playerWon = false;
            }
            else {
                if(computerMove === "paper") playerWon = true;
                if(computerMove === "rock") playerWon = false;
            }

            computerMove = computerMove.charAt(0).toUpperCase() + computerMove.slice(1);
            playerMove = playerMove.charAt(0).toUpperCase() + playerMove.slice(1);


            if(playerWon === false){
                resultText = `You Lose! ${computerMove} beats ${playerMove}`;
            }
            else if (playerWon === true){
                resultText = `You Win! ${playerMove} beats ${computerMove}`;
            }
            else{
                resultText = `It's a Tie!`;
            }

            return resultText;
        }

        function getComputerMove (){
            let randNum = Math.floor((Math.random() * 3));
            let compChoice;

            switch (randNum){
                case 0:
                    compChoice = "rock";
                    break;

                case 1:
                    compChoice = "paper";
                    break;

                case 2:
                    compChoice = "scissors";
                    break;
            }

            return compChoice;
        }
    </script>
</body>
</html>